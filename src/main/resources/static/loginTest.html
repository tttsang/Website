<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <base href="http://bingexxx.net/" />
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
</head>

<body>
    <form role="form" id="login_form">
        <h2 class="title">登录</h2>
        <div class="input-group">
            <span class="input-group-addon">学号: </span>
            <input type="text" class="form-control" id="id" value="admin">
        </div>
        <div class="input-group">
            <span class="input-group-addon">密码: </span>
            <input type="password" class="form-control" id="password" value="admin">
        </div>
        <!-- <div class="checkbox">
            <label>
                <input type="checkbox">记住密码
            </label>
        </div> -->
        <button type="button" class="btn btn-info" id="login_btn">登录</button>
        <button type="button" class="btn btn-info" id="logout_btn">退出登录</button>
    </form>

    <script>
        $(function () {
            $("#login_btn").click(function () {
                $.ajax({
                    type: 'Post',
                    url: 'api/login',
                    data: {
                        id: $("#id").val(),
                        password: $("#password").val()
                    },
                    success: function (data) {
                        alert(JSON.stringify(data))
                        console.log(data)
                    },
                    error: function(data){
                        alert(JSON.stringify(data))
                        console.log(data)
                    },
                    xhrFields: {
                        withCredentials: true
                    },
                    crossDomain: true
                });
            });
            $("#logout_btn").click(function(){
                $.ajax({
                    type: 'get',
                    url: 'api/logout',
                    success: function (data) {
                        alert(JSON.stringify(data))
                        console.log(data)
                    },
                    error: function(data){
                        alert(JSON.stringify(data))
                        console.log(data)
                    },
                    xhrFields: {
                        withCredentials: true
                    },
                    crossDomain: true
                });
            })

        })
    </script>

    <style>
        #login_form {
            width: 400px;
        }
    </style>
</body>

</html>